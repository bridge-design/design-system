import Card from "./Card";
const pathPrefix = "/handout";
import { Meta, Canvas, Story, ArgsTable } from "@storybook/addon-docs";
import Badge from "../components/Badge";

export const blocks = [
  {
    title: "Workshop flow",
    slug: "workshop-flow",
    roles: [],
    day: 1,
  },
  {
    title: "Making a toast",
    slug: "toast",
    roles: ["designer", "developer"],
    day: 1,
  },
  {
    title: "Figma setup",
    slug: "figma-setup",
    roles: ["designer"],
    day: 1,
  },
  {
    title: "Repository setup",
    slug: "repo-setup",
    roles: ["developer"],
    day: 1,
  },
  {
    title: "UI inventory",
    slug: "ui-inventory",
    roles: ["developer", "designer"],
    day: 1,
  },
  {
    title: "Design tokens",
    slug: "design-tokens",
    roles: ["designer"],
    day: 1,
  },
  {
    title: "Coding session",
    slug: "coding-session",
    roles: ["developer"],
    day: 1,
  },
  {
    title: "Releasing the library",
    slug: "releasing-library",
    roles: ["developer"],
    day: 2,
  },
  {
    title: "Product update",
    slug: "product-update",
    roles: ["developer"],
    day: 2,
  },
  {
    title: "Design Changes",
    slug: "re-design",
    roles: ["designer"],
    day: 2,
  },
  {
    title: "Cast in code",
    slug: "cast-in-code",
    roles: ["developer"],
    day: 2,
  },
  {
    title: "Product release",
    slug: "product-release",
    roles: ["developer"],
    day: 2,
  },
  {
    title: "Automatic syncronizations",
    slug: "autosync",
    roles: ["developer"],
    day: 2,
  },
  {
    title: "Feedback Form",
    slug: "feedback",
    url: "https://docs.google.com/forms/d/124ha3LG7-07rizB9yjoqNGkB31Yzw6jtFvImsz7-Utg",
    roles: ["designer", "developer"],
    day: 2,
  },
];

<Meta title="Pages/Handout" />

export const Blocks = (props) => {
  return (
    <>
      {blocks.map((block) => {
        const link = block.url ? block.url : `${pathPrefix}/${block.slug}`;
        const enabled = block.day === props.day || props.day === "all";
        return (
          <Card key={block.slug} heading={block.title} link={link}>
            <div className="flex">
              <Badge role="developer" isHidden={!block.roles.includes("developer")} />
              <Badge role="designer" isHidden={!block.roles.includes("designer")} />
            </div>
          </Card>
        );
      })}
    </>
  );
};

<Canvas>
  <Story name="Default">
    <div className="">
      <h2 className="text-2xl text-bold">
        Welcome to Hands-on with Design Systems workshop!
      </h2>
      {/* CARDS SECTION */}
      <div className="grid grid-cols-3 gap-10">
        <Blocks day={"all"} />
      </div>
    </div>
  </Story>
</Canvas>
